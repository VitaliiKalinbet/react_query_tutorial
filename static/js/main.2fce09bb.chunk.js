(this.webpackJsonpreact_query_tutorial=this.webpackJsonpreact_query_tutorial||[]).push([[0],{21:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(14),s=n.n(a),i=(n(21),n(11)),j=n(1),u=function(e){var t=e.setPage;return Object(j.jsxs)("nav",{children:[Object(j.jsx)("button",{onClick:function(){return t("planets")},children:"Planets"}),Object(j.jsx)("button",{onClick:function(){return t("people")},children:"People"})]})},o=n(8),l=n.n(o),d=n(9),b=n(27),p=function(e){var t=e.planet;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsxs)("p",{children:["Population - ",t.population]}),Object(j.jsxs)("p",{children:["Terrain - ",t.terrain]})]})},h=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("key :>> ",t),console.log("page :>> ",n),e.next=4,fetch("http://swapi.dev/api/planets/?page=".concat(t.queryKey[1]));case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(b.a)(["planets",n],h,{keepPreviousData:!0}),s=a.data,u=a.status;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Planets"}),"error"===u?Object(j.jsx)("div",{children:"Error fetching data"}):null,"loading"===u?Object(j.jsx)("div",{children:"Loading data..."}):null,"success"===u&&Object(j.jsxs)("section",{children:[Object(j.jsx)("button",{onClick:function(){return c((function(e){return Math.max(e-1,1)}))},disabled:1===n,children:"Previous Page"}),Object(j.jsx)("span",{children:n}),Object(j.jsx)("button",{onClick:function(){return c((function(e){return e+1}))},disabled:!s||!s.next,children:"Next page"}),Object(j.jsx)("div",{children:s.results.map((function(e){return Object(j.jsx)(p,{planet:e},e.name)}))})]})]})},x=function(e){var t=e.person;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsxs)("p",{children:["Gender - ",t.gender]}),Object(j.jsxs)("p",{children:["Birth year - ",t.birth_year]})]})},v=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://swapi.dev/api/people/");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)("people",v),t=e.data,n=e.status;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"People"}),"loading"===n&&Object(j.jsx)("div",{children:"Loading data"}),"error"===n&&Object(j.jsx)("div",{children:"Error fetching data"}),"success"===n&&Object(j.jsx)("div",{children:t.results.map((function(e){return Object(j.jsx)(x,{person:e},e.name)}))})]})},g=n(26),m=n(15),y=n(16),k=new g.a;var w=function(){var e=Object(r.useState)("planets"),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(m.a,{client:k,children:[Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Star wars info"}),Object(j.jsx)(u,{setPage:c}),Object(j.jsx)("div",{className:"content",children:"planets"===n?Object(j.jsx)(O,{}):Object(j.jsx)(f,{})})]}),Object(j.jsx)(y.ReactQueryDevtools,{initialIsOpen:!1})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.2fce09bb.chunk.js.map